# What are?
Web-sockets are layer used to communicate to/from web-client/web-servers. The trix here is that web-sockets supports full-duplex communications by making it more effective than traditional HTTP requests.

# How to identify?
It can be identified by either **ws://** = insecure and **wss://** secure as HTTPS

# How does it look like?
const socket = new WebSocket('ws://websockets.htb/echo');
```
*CLIENT*
GET /echo HTTP/1.1
Host: websockets.htb
Connection: Upgrade
Upgrade: websocket
Sec-WebSocket-Version: 13
Sec-WebSocket-Key: 7QpTshdCiQfiv3tH7myJ1g==
Origin: http://websockets.htb

```
(Connection:upgrade that client is ready to make a request)
```
*SERVER*
HTTP/1.1 101 Switching Protocols
Connection: Upgrade
Upgrade: websocket
Sec-WebSocket-Accept: QU/gD/2y41z9ygrOaGWgaC+Pm2M=
```
(Here the code **101** means Success and the **Connection: upgrade** means that server is ready to connect back)


# Tools for Websockets
Here i will try to resume a list of useful tools on how we can easily interact with Web-sockets during our pen-testings and so on...

## Interact tools
**Burpsuite**  (we know what it is, GUI)
**WSCat** (https://github.com/websockets/wscat)   (CLI variant)
**Websocat** (https://github.com/vi/websocat)   (CLI variant, curl, nc socat as well for WS)

## Footprint and vulnid
**STEWS** (https://github.com/PalindromeLabs/STEWS) (tool for discovery, vuln footprint etc)

Discovery example via STEW: 
```
python3 STEWS-fingerprint.py -u websockets.htb/messages -n -5
```
(This will identify the back-end used 

Vulnerability discovery via STEW: 
```
python3 STEWS-vuln-detect.py -n -u websockets.htb/messages -1
```
(this will check for CSWH and other CVE known in the wild)