# Working with Certifcates
//Generate new cert
```
openssl genrsa -out key.pem 2048
```
//Show public key of a certificate
```
openssl rsa -in key.pem -pubout
```
//Download cert from HTTPS
```
openssl s_client -connect hackthebox.com:443 | openssl x509 > hackthebox.pem
```
//Covert PEM 2 DER
```
openssl x509 -outform der -in hackthebox.pem -out hackthebox.der
```
//Covert PEM 2 PCKS7
```
openssl crl2pkcs7 -nocrl -certfile hackthebox.pem -out hackthebox.p7
```
//Create a Self-Signed cert
```
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out selfsigned.pem -sha256 -days 365
```

# Encrypt Data
How to encrypt a message?
1)Create a new RSA key
```
openssl genrsa -out rsa.pem 2048
```
2)Extract the pub key
```
openssl rsa -in rsa.pem -pubout > rsa_pub.pem
```
3)Encrypt a message.msg(uses the pub RSA key)
```
openssl pkeyutl -encrypt -inkey rsa_pub.pem -pubin -in msg.txt -out msg.enc
```
4)Decrypt a encrypted message(uses the priv RSA key)
```
openssl pkeyutl -decrypt -inkey rsa.pem -in msg.enc > decrypted.txt
```
