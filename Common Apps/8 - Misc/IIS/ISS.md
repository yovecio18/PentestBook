When a file or folder is created on an IIS server, Windows generates a short file name in the 8.3 format, consisting of eight characters for the file name, a period, and three characters for the extension. 
Intriguingly, these short file names can grant access to their corresponding files and folders, even if they were meant to be hidden or inaccessible.


# Enumeration
1)Start easy ex http://example.com/~s if you get OK-200 then increase: `http://example.com/~se http://example.com/~s`
2)Again same shit:

```
http://example.com/~se
http://example.com/~sf
http://example.com/~sg
...
http://example.com/~sec
http://example.com/~sed
http://example.com/~see
...
```

4)Narrow down until you will eventually find: `secre~1`
5)Now you can scout for files as usual: 
http://example.com/secre~1/somefile.txt
http://example.com/secre~1/anotherfile.docx
6)Or take it deeper:
http://example.com/secre~1/somefi~1.txt
The number "1" is a unique identifier that distinguishes files with similar names within the same directory. 
The numbers following the tilde (~) assist the file system in differentiating between files that share similarities in their names
Example:
*somefi~1.txt for somefile.txt*
*somefi~2.txt for somefile1.txt*

### Automated tools
`auxiliary/scanner/http/iis_shortname_scanner` 
(Ready to use Metasploit module)
OR
https://github.com/lijiejie/IIS_shortname_Scanner


# Attacking 
1)Find with NMAP if Server is running IIS
2)Run the IIS short name scanner that you prefer and write down the results:

```
  |_ Identified directories: 2
    |_ ASPNET~1
    |_ UPLOAD~1
  |_ Identified files: 3
    |_ CSASPX~1.CS
      |_ Actual extension = .CS
    |_ CSASPX~1.CS??
    |_ TRANSF~1.ASP
```
(Here we have 2 folders and 3 files)

3)Now is fuzzing time with custom dictionaries:

```
egrep -r ^transf /usr/share/wordlists/ | sed 's/^[^:]*://' > /tmp/list.txt
(
egrep -r ^transf 	The egrep command is used to search for lines containing a specific pattern in the input files. The -r flag indicates a recursive search through directories. The ^transf pattern matches any line that starts with "transf". The output of this command will be lines that begin with "transf" along with their source file names.
| 	The pipe symbol (|) is used to pass the output of the first command (egrep) to the second command (sed). In this case, the lines starting with "transf" and their file names will be the input for the sed command.
sed 's/^[^:]*://' 	The sed command is used to perform a find-and-replace operation on its input (in this case, the output of egrep). The 's/^[^:]*://' expression tells sed to find any sequence of characters at the beginning of a line (^) up to the first colon (:), and replace them with nothing (effectively removing the matched text). The result will be the lines starting with "transf" but without the file names and colons.
> /tmp/list.txt 	The greater-than symbol (>) is used to redirect the output of the entire command (i.e., the modified lines) to a new file named /tmp/list.txt.
)

```

4)Lastly fuzz with Ffuf or similar