# Enumeration
### Documentation structure
`├── bin`
`├── conf`
`│   ├── catalina.policy`
`│   ├── catalina.properties`
`│   ├── context.xml`
`│   ├── tomcat-users.xml`
`│   ├── tomcat-users.xsd`
`│   └── web.xml`
`├── lib`
`├── logs`
`├── temp`
`├── webapps`
`│   ├── manager`
`│   │   ├── images`
`│   │   ├── META-INF`
`│   │   └── WEB-INF`
`|   |       └── web.xml`
`│   └── ROOT`
`│       └── WEB-INF`
`└── work`
    `└── Catalina`
        `└── localhost`	

The bin folder stores scripts and binaries needed to start and run a Tomcat server. The conf folder stores various configuration files used by Tomcat. 
The tomcat-users.xml file stores user credentials and their assigned roles. The lib folder holds the various JAR files needed for the correct functioning of Tomcat. The logs and temp folders store temporary log files. 
The webapps folder is the default webroot of Tomcat and hosts all the applications. The work folder acts as a cache and is used to store data during runtime.


# WebApp Structure
`webapps/customapp`
`├── images`
`├── index.jsp`
`├── META-INF`
`│   └── context.xml`
`├── status.xsd`
`└── WEB-INF`
    `├── jsp`
    `|   └── admin.jsp`
    `└── web.xml`
    `└── lib`
    `|    └── jdbc_drivers.jar`
    `└── classes`
        `└── AdminServlet.class`   
    
The most important file among these is WEB-INF/web.xml, which is known as the deployment descriptor. This file stores information about the routes used by the application and the classes handling these routes. 
All compiled classes used by the application should be stored in the WEB-INF/classes folder. These classes might contain important business logic as well as sensitive information. 
Any vulnerability in these files can lead to total compromise of the website. The lib folder stores the libraries needed by that particular application.


# WEB-INF/web.xml structure
`?xml version="1.0" encoding="ISO-8859-1"?>`
`<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">`
`<web-app>`
  `<servlet>`
    `<servlet-name>AdminServlet</servlet-name>`
    `<servlet-class>com.inlanefreight.api.AdminServlet</servlet-class>`
  `</servlet>`

  `<servlet-mapping>`
    `<servlet-name>AdminServlet</servlet-name>`
    `<url-pattern>/admin</url-pattern>`
  `</servlet-mapping>`
`</web-app>`   

The web.xml configuration above defines a new servlet named AdminServlet that is mapped to the class com.inlanefreight.api.AdminServlet.
ext, a new servlet mapping is created to map requests to /admin with AdminServlet. This configuration will send any request received for /admin to the AdminServlet.class class for processing. 
The web.xml descriptor holds a lot of sensitive information and is an important file to check when leveraging a Local File Inclusion (LFI) vulnerability.


# Enumerate folders
`dirsearch - u http://web01.inlanefreight.local:8180/ -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt -r`